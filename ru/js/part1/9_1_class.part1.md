# Класс: базовый синтаксис

*В объектно-ориентированном программировании класс – это расширяемый шаблон кода для создания объектов, который устанавливает в них начальные значения (свойства) и реализацию поведения (методы)*.

С этим может помочь кроме `new function`, классы.

## Синтаксис «class»

```js
class MyClass {
  // методы класса
  constructor() { ... }
  method1() { ... }
  method2() { ... }
  method3() { ... }
  ...
}
```

`new MyClass()` -  для создания нового объекта со всеми перечисленными методами. При этом автоматически вызывается метод `constructor()`, в нём мы можем инициализировать объект.
1. Создаётся новый объект.
2. `constructor` запускается с заданным аргументом и сохраняет его в `this.name`.
```js
class User {
  constructor(name) {
    this.name = name;
  }
  sayHi() {
    alert(this.name);
  }
}
// Использование:
let user = new User("Иван");
user.sayHi();
// доказательство: User - это функция
typeof User; // function
```
*В JavaScript класс – это разновидность функции.*

Вот что на самом деле делает конструкция `class User {...}`:
1. Создаёт функцию с именем `User`, которая становится результатом объявления класса. Код функции берётся из метода constructor (она будет пустой, если такого метода нет).
2. Сохраняет все методы, такие как sayHi, в User.prototype.

При вызове метода объекта new User он будет взят из прототипа.\
На картинке показан результат объявления `class User`:

![](../../../_img/class-user.svg)

```js
class User {
  constructor(name) { this.name = name; }
  sayHi() { alert(this.name); }
}
// класс - это функция
typeof User; // function
// ...или, если точнее, это метод constructor
User === User.prototype.constructor; // true
// Методы находятся в User.prototype, например:
User.prototype.sayHi; // sayHi() { alert(this.name); }
// в прототипе ровно 2 метода
Object.getOwnPropertyNames(User.prototype); // constructor, sayHi
```
## Не просто синтаксический сахар

[Иногда говорят, что class – это просто «синтаксический сахар» в JavaScript (синтаксис для улучшения читаемости кода, но не делающий ничего принципиально нового), потому что мы можем сделать всё то же самое без конструкции `class`]\
Перепишем класс:
```js
// перепишем класс User на чистых функциях
// 1. Создаём функцию constructor
function User(name) {
  this.name = name;
}
// каждый прототип функции имеет свойство constructor по умолчанию,
// поэтому нам нет необходимости его создавать
// 2. Добавляем метод в прототип
User.prototype.sayHi = function() {
  alert(this.name);
};
// Использование:
let user = new User("Иван");
user.sayHi();
```
Однако есть важные отличия:
1. Во-первых, функция, созданная с помощью `class`, помечена специальным внутренним свойством `[[IsClassConstructor]]: true`. Поэтому это не совсем то же самое, что создавать её вручную.
В отличие от обычных функций, конструктор класса не может быть вызван без `new`:
```js
class User {
  constructor() {}
}
typeof User; // function
User(); // Error: Class constructor User cannot be invoked without 'new'
```
[Кроме того, строковое представление конструктора класса в большинстве движков JavaScript начинается с «class …»]\
```js
class User {
  constructor() {}
}
alert(User); // class User { ... }
```
2. Методы класса являются неперечислимыми. Определение класса устанавливает флаг enumerable в false для всех методов в "prototype".\
И это хорошо, так как если мы проходимся циклом for..in по объекту, то обычно мы не хотим при этом получать методы класса.
3. Классы всегда используют `use strict`. Весь код внутри класса автоматически находится в строгом режиме.
```js
```

```js
```

```js
```
